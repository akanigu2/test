--[[
====================================================================================================
    Type Soul - LavaGuy Hitbox Expander
====================================================================================================

    What this script does:
    -   It automatically finds all "LavaGuy" NPCs in the game.
    -   It increases the size of their body parts, making their hitboxes much larger.
    -   The enlarged parts are made mostly transparent and non-collidable, so you won't see
        them or bump into them.
    -   This works for NPCs already in the game and any new ones that spawn.

    How to use:
    1.  Run this script in your script executor.
    2.  That's it. The script will run in the background. You can run this alongside other
        scripts like an auto-farm.

    DISCLAIMER:
    Modifying game objects is detectable. While generally safer than scripts that control
    your character's movement, use this at your own risk.

====================================================================================================
]]

--// CONFIGURATION //--
local CONFIG = {
    NPC_NAME = "LavaGuy",      -- The name of the NPC to target
    HITBOX_MULTIPLIER = 3,     -- How much bigger to make the hitbox. (e.g., 3 = 3x bigger)
    TRANSPARENCY = 0.7,        -- The visibility of the enlarged parts. (0 = visible, 1 = invisible)
    PARTS_TO_RESIZE = {        -- List of parts to resize. Leave empty {} to resize ALL parts.
        "HumanoidRootPart",
        "Torso",
        "UpperTorso",
        "LowerTorso",
        "Head"
    }
}

--// SCRIPT LOGIC //--

print("Hitbox Expander: Initialized. Searching for "..CONFIG.NPC_NAME)

-- This function does the actual work of resizing the NPC's parts
local function modifyNpcHitbox(npcModel)
    -- Check if we have already modified this NPC to prevent errors
    if npcModel:GetAttribute("HitboxModified") then
        return
    end

    print("Found a " .. npcModel.Name .. ". Modifying its hitbox.")

    for _, part in ipairs(npcModel:GetDescendants()) do
        if part:IsA("BasePart") then
            -- Check if we should resize all parts or only specific ones
            local shouldResize = #CONFIG.PARTS_TO_RESIZE == 0 or table.find(CONFIG.PARTS_TO_RESIZE, part.Name)
            
            if shouldResize then
                -- Make the part bigger
                part.Size = part.Size * CONFIG.HITBOX_MULTIPLIER
                
                -- Make it transparent
                part.Transparency = CONFIG.TRANSPARENCY
                
                -- Make it non-collidable so it doesn't interfere with physics
                part.CanCollide = false
            end
        end
    end

    -- Mark this NPC as modified so we don't run the script on it again
    npcModel:SetAttribute("HitboxModified", true)
end


-- Function to check any newly added children in the game
local function onChildAdded(child)
    -- Check if the new object is the NPC we're looking for
    if child:IsA("Model") and child.Name == CONFIG.NPC_NAME then
        -- Wait a moment for the model to fully load in
        task.wait(0.2)
        modifyNpcHitbox(child)
    end
end


-- Initial scan: Modify any NPCs that are already in the game when the script starts
for _, entity in ipairs(game.Workspace:GetChildren()) do
    if entity:IsA("Model") and entity.Name == CONFIG.NPC_NAME then
        modifyNpcHitbox(entity)
    end
end

-- Listen for new NPCs being added to the game
game.Workspace.ChildAdded:Connect(onChildAdded)

print("Hitbox Expander: Now running in the background.")
